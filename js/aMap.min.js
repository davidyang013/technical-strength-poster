!function(t){"use strict";var e={navCtrl:!0,scaleCtrl:!0,overviewCtrl:!0,enableScrollWheelZoom:!0,zoom:10},o=function(t){return null===t||void 0===t},n=function(t,e){if(!t)throw new Error(e)},i=function(){return{restrict:"E",scope:{options:"="},link:function(t,i){var r={};r.navCtrl=o(t.options.navCtrl)?e.navCtrl:t.options.navCtrl,r.scaleCtrl=o(t.options.scaleCtrl)?e.scaleCtrl:t.options.scaleCtrl,r.overviewCtrl=o(t.options.overviewCtrl)?e.overviewCtrl:t.options.overviewCtrl,r.enableScrollWheelZoom=o(t.options.enableScrollWheelZoom)?e.enableScrollWheelZoom:t.options.enableScrollWheelZoom,r.zoom=o(t.options.zoom)?e.zoom:t.options.zoom,n(t.options.width,"options.width must be set"),n(t.options.height,"options.height must be set"),n(t.options.center,"options.center must be set"),n(t.options.center.longitude,"options.center.longitude must be set"),n(t.options.center.latitude,"options.center.latitude must be set"),r.width=t.options.width,r.height=t.options.height,r.center={longitude:t.options.center.longitude,latitude:t.options.center.latitude},r.city=t.options.city,r.markers=t.options.markers,i.find("div").css("width",r.width+"px"),i.find("div").css("height",r.height+"px");var l={level:r.zoom,center:new AMap.LngLat(r.center.longitude,r.center.latitude),scrollWheel:r.enableScrollWheelZoom},a=new AMap.Map(i.find("div")[0],l);if(r.navCtrl&&a.plugin(["AMap.ToolBar"],function(){var t=new AMap.ToolBar;a.addControl(t)}),r.scaleCtrl&&a.plugin(["AMap.Scale"],function(){var t=new AMap.Scale;a.addControl(t)}),r.overviewCtrl&&a.plugin(["AMap.OverView"],function(){var t=new AMap.OverView({visible:!1});a.addControl(t)}),r.markers){var s=function(t,e,o){return function(){o.open(t,e.getPosition())}};for(var p in r.markers){var c,d=r.markers[p],u=new AMap.LngLat(d.longitude,d.latitude);if(c=new AMap.Marker(d.icon?{icon:d.icon,position:u}:{position:u}),c.setMap(a),!d.title&&!d.content)return;var v=new AMap.InfoWindow({isCustom:!1,autoMove:!0,content:"<p>"+(d.title?d.title:"")+"</p><p>"+(d.content?d.content:"")+"</p>"});d.width&&d.height&&v.setSize(new AMap.Size(d.width,d.height)),AMap.event.addListener(c,"click",s(a,c,v))}t.$on("$destroy",function(){a&&a.destroy&&a.destroy()})}},template:"<div></div>"}},r=t.module("aMap",[]);r.directive("aMap",[i])}(angular);