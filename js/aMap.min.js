!function(e){"use strict";var t={navCtrl:!0,scaleCtrl:!0,overviewCtrl:!0,enableScrollWheelZoom:!0,zoom:10},o=function(e){return null===e||void 0===e},n=function(e,t){if(!e)throw new Error(t)},i=function(){return{restrict:"E",scope:{options:"="},link:function(e,i){var r={};r.navCtrl=o(e.options.navCtrl)?t.navCtrl:e.options.navCtrl,r.scaleCtrl=o(e.options.scaleCtrl)?t.scaleCtrl:e.options.scaleCtrl,r.overviewCtrl=o(e.options.overviewCtrl)?t.overviewCtrl:e.options.overviewCtrl,r.enableScrollWheelZoom=o(e.options.enableScrollWheelZoom)?t.enableScrollWheelZoom:e.options.enableScrollWheelZoom,r.zoom=o(e.options.zoom)?t.zoom:e.options.zoom,n(e.options.center,"options.center must be set"),n(e.options.center.longitude,"options.center.longitude must be set"),n(e.options.center.latitude,"options.center.latitude must be set"),r.center={longitude:e.options.center.longitude,latitude:e.options.center.latitude},r.city=e.options.city,r.markers=e.options.markers;var l={level:r.zoom,center:new AMap.LngLat(r.center.longitude,r.center.latitude),scrollWheel:r.enableScrollWheelZoom},a=new AMap.Map(i.find("div")[0],l);if(r.navCtrl&&a.plugin(["AMap.ToolBar"],function(){var e=new AMap.ToolBar;a.addControl(e)}),r.scaleCtrl&&a.plugin(["AMap.Scale"],function(){var e=new AMap.Scale;a.addControl(e)}),r.overviewCtrl&&a.plugin(["AMap.OverView"],function(){var e=new AMap.OverView({visible:!1});a.addControl(e)}),r.markers){var s=function(e,t,o){return function(){o.open(e,t.getPosition())}};for(var c in r.markers){var p,u=r.markers[c],v=new AMap.LngLat(u.longitude,u.latitude);if(p=new AMap.Marker(u.icon?{icon:u.icon,position:v}:{position:v}),p.setMap(a),!u.title&&!u.content)return;var d=new AMap.InfoWindow({isCustom:!1,autoMove:!0,content:"<p>"+(u.title?u.title:"")+"</p><p>"+(u.content?u.content:"")+"</p>"});u.width&&u.height&&d.setSize(new AMap.Size(u.width,u.height)),AMap.event.addListener(p,"click",s(a,p,d))}e.$on("$destroy",function(){a&&a.destroy&&a.destroy()})}},template:'<div style="width: 100%; height: 100%;"></div>'}},r=e.module("aMap",[]);r.directive("aMap",[i])}(angular);